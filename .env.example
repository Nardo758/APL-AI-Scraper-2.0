# APL AI Scraper 2.0 - Environment Configuration
# Copy this file to .env and fill in your actual values

# ===========================================
# SERVER CONFIGURATION
# ===========================================
PORT=3000
NODE_ENV=development
API_VERSION=v1

# ===========================================
# DATABASE CONFIGURATION (Supabase)
# ===========================================
# Get these from your Supabase project dashboard
SUPABASE_URL=your_supabase_project_url_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# Local Redis (default)
REDIS_URL=redis://localhost:6379

# Redis Cloud (if using cloud service)
# REDIS_URL=redis://username:password@hostname:port

# Redis Cluster (if using cluster)
# REDIS_CLUSTER_NODES=host1:port1,host2:port2,host3:port3

# ===========================================
# AI SERVICES CONFIGURATION
# ===========================================
# OpenAI API (for GPT-4V image analysis)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_ORG_ID=your_openai_org_id_here

# Anthropic API (for Claude text processing)
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google AI (optional - for additional AI capabilities)
GOOGLE_AI_API_KEY=your_google_ai_api_key_here

# ===========================================
# SEARCH & DISCOVERY APIS
# ===========================================
# SerpAPI for search results
SERPAPI_KEY=your_serpapi_key_here

# ScrapingBee for proxy scraping
SCRAPINGBEE_API_KEY=your_scrapingbee_api_key_here

# ===========================================
# WORKER & QUEUE CONFIGURATION
# ===========================================
# Number of concurrent workers
WORKER_CONCURRENCY=3

# Job timeout in milliseconds
JOB_TIMEOUT=300000

# Maximum job attempts
MAX_JOB_ATTEMPTS=3

# Rate limiting (requests per minute)
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW=60000

# ===========================================
# SECURITY & AUTHENTICATION
# ===========================================
# JWT Secret for API authentication
JWT_SECRET=your_jwt_secret_here

# API Rate Limiting
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=900000

# Allowed origins for CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# ===========================================
# SCRAPING CONFIGURATION
# ===========================================
# Browser settings
BROWSER_HEADLESS=true
BROWSER_TIMEOUT=30000
BROWSER_VIEWPORT_WIDTH=1920
BROWSER_VIEWPORT_HEIGHT=1080

# Stealth mode settings
USE_STEALTH_MODE=true
RANDOM_USER_AGENTS=true
ROTATE_PROXIES=false

# Proxy settings (optional)
# PROXY_URL=http://username:password@ip:port
# PROXY_ROTATION=true

# ===========================================
# STORAGE & FILE HANDLING
# ===========================================
# File upload limits
MAX_FILE_SIZE=10485760
MAX_FILES_PER_REQUEST=10

# Screenshot storage
SCREENSHOT_STORAGE_PATH=./uploads/screenshots
SCREENSHOT_MAX_SIZE=5242880

# Data export settings
EXPORT_FORMATS=json,csv,xlsx
MAX_EXPORT_RECORDS=10000

# ===========================================
# LOGGING & MONITORING
# ===========================================
# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/app.log

# Performance monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# Error tracking (optional - Sentry)
# SENTRY_DSN=your_sentry_dsn_here

# ===========================================
# WEBHOOKS & NOTIFICATIONS
# ===========================================
# Slack notifications (optional)
# SLACK_WEBHOOK_URL=your_slack_webhook_url

# Discord notifications (optional)
# DISCORD_WEBHOOK_URL=your_discord_webhook_url

# Email notifications (optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password

# ===========================================
# DEVELOPMENT & TESTING
# ===========================================
# Test database (separate from production)
TEST_SUPABASE_URL=your_test_supabase_url
TEST_SUPABASE_ANON_KEY=your_test_supabase_key

# Debug settings
DEBUG_MODE=true
VERBOSE_LOGGING=false
SAVE_FAILED_SCREENSHOTS=true

# Mock services for testing
MOCK_AI_SERVICES=false
MOCK_EXTERNAL_APIS=false

# ===========================================
# DOCKER & DEPLOYMENT
# ===========================================
# Docker settings
DOCKER_NETWORK=apl-scraper-network
DOCKER_VOLUME_PATH=./data

# Health check settings
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# ===========================================
# EXAMPLE VALUES (for reference)
# ===========================================
# Example Supabase URL: https://abcdefghijklmnop.supabase.co
# Example OpenAI Key: sk-proj-abc123def456...
# Example Anthropic Key: sk-ant-api03-abc123...
# Example Redis URL: redis://localhost:6379